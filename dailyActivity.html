<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <style>
        * {
            padding: 0;
            margin: 0;
        }

        table,
        .healthCareServe {
            width: 850px;
            margin: 0 auto;
        }

        td,
        th {
            border: 1px solid #000;
            padding: 5px;
        }

        table {
            border-collapse: collapse;
            border-spacing: 0;
        }

        input {
            border: 0 none;
            font-size: 16px;
            outline: none;
        }

        .healthCareServe h2 {
            font-size: 22px;
            text-align: center;
            line-height: 50px;
        }

        .healthCareServe h4 {
            font-size: 18px;
            text-align: center;
            font-weight: normal;
            line-height: 30px;
        }
        .healthCareServe h5 {
            display:inline-block;
            line-height:50px;
            font-weight:normal;
        }
        .healthCareServe .left-title {
            font-size: 18px;
        }

        textarea {
            border: 0 none;
            outline: none;
            resize: none;
            font-size: 16px;
            height: 50px;
            width: 100%;
        }

        .healthCareServe h3 {
            line-height: 50px;
            /* padding-left:500px; */
            text-align: right;
            font-size: 18px;
            font-weight: normal;
        }

        label {
            display: inline-block;
            cursor: pointer;
            margin-right: 10px;
        }

        label i {
            display: inline-block;
            width: 12px;
            height: 12px;
            border: 1px solid #000;
            vertical-align: middle;
            line-height: 12px;
            text-align: center;
            font-style: normal;
            font-weight: bold;
            font-size: 0;
        }

        input[type="radio"]:checked+i {
            font-size: 12px;
        }

        input[type="radio"]:checked+span {
            color: red;
        }

        input {
            border: 0 none;
            font-size: 16px;
            outline: none;
            display: none;
        }
    </style>
    <script src="./jquery-3.3.1.js"></script>
</head>

<body>
    <div class="healthCareServe">
        <h2>日常生活活动能力评定量表</h2>
        <h4>（Barthel指数评定量表）</h4>
        <form action="">
            <table cellspacing="0" cellpadding="0">
                <tbody>
                    <tr>
                        <td align="center" width="10%">签约人</td>
                        <td width="10%"><input type="text" style="width:100%;display:block;"></td>
                        <td align="center" width="20%">身份证号码</td>
                        <td width="30%"><input type="text" style="width:100%;display:block;"></td>
                        <td align="center">人员身份</td>
                        <td>
                            <label for="identity-1">
                                <span>在职</span>
                                <input type="radio" name="identitfy" value="在职" id="identity-1" class="identitfy">
                                <i>√</i>
                            </label>
                            <label for="identity-2">
                                <span>退休</span>
                                <input type="radio" name="identitfy" value="退休" id="identity-2" class="identitfy">
                                <i>√</i>
                            </label>
                        </td>
                    </tr>
                    <tr>
                        <td>疾病诊断病情描述</td>
                        <td colspan="5">
                            <textarea></textarea>
                        </td>
                    </tr>
                    <tr>
                        <th colspan="2">项目</th>
                        <!-- <th>1</th> -->
                        <th>分值</th>
                        <th colspan="2">分值描述</th>
                        <!-- <th>1</th> -->
                        <th>评分结果</th>
                    </tr>
                    <tr>
                        <td colspan="2" rowspan="3">1.进食</td>
                        <!-- <td></td> -->
                        <td align="center">0分</td>
                        <td colspan="2" align="center">
                            <label for="eat-1">
                                <input type="radio" name="eat" value="0" id="eat-1" class="identitfy">
                                <span>依赖他人</span>
                            </label>
                        </td>
                        <!-- <td></td> -->
                        <td rowspan="3" class="scord" align="center">

                        </td>
                    </tr>
                    <tr>
                        
                        <!-- <td></td> -->
                        <td align="center">5分</td>
                        <td colspan="2" align="center">
                            <label for="eat-2">
                                <input type="radio" name="eat" value="5" id="eat-2" class="identitfy">
                                <span>需要帮助</span>
                            </label>
                        </td>
                        
                        
                    </tr>
                    <tr>
                        <!-- <td>10分</td> -->
                        <!-- <td>10分</td> -->
                        <td align="center">10分</td>
                        <td colspan="2" align="center">
                            <label for="eat-3">
                                <input type="radio" name="eat" value="10" id="eat-3" class="identitfy">
                                <span>独立完成</span>
                            </label>
                        </td>
                        
                        
                    </tr>
                    <tr>
                        <td colspan="2" rowspan="4">2.床-椅双向转移</td>
                        
                        <td align="center">0分</td>
                        <td align="center" colspan="2">
                            <label for="turn-1">
                                <input type="radio" name="turn" value="0" id="turn-1" class="identitfy">
                                <span>依赖他人</span>
                            </label>
                        </td>
                        
                        <td rowspan="4" class="scord2" align="center">
                        </td>
                    </tr>
                    <tr>
                        
                        
                        <td align="center">5分</td>
                        <td align="center" colspan="2">
                            <label for="turn-2">
                                <input type="radio" name="turn" value="5" id="turn-2" class="identitfy">
                                <span>需要大量帮助</span>
                            </label>
                        </td>
                        
                        <!-- <td></td> -->
                    </tr>
                    <tr>
                        
                        
                        <td align="center">10分</td>
                        <td align="center" colspan="2">
                            <label for="turn-3">
                                <input type="radio" name="turn" value="10" id="turn-3" class="identitfy">
                                <span>需要少量帮助</span>
                            </label>
                        </td>
                        
                        <!-- <td></td> -->
                    </tr>
                    <tr>
                        
                        
                        <td align="center">15分</td>
                        <td align="center" colspan="2">
                            <label for="turn-4">
                                <input type="radio" name="turn" value="15" id="turn-4" class="identitfy">
                                <span>独立完成</span>
                            </label>
                        </td>
                        
                        <!-- <td></td> -->
                    </tr>
                    <tr>
                        <td colspan="2" rowspan="2">3.个人卫生</td>
                        
                        <td align="center">0分</td>
                        <td align="center" colspan="2">
                            <label for="clean-1">
                                <input type="radio" name="clean" value="0" id="clean-1" class="identitfy">
                                <span>需要帮助</span>
                            </label>
                        </td>
                        
                        <td rowspan="2" class="scord3" align="center">

                        </td>
                    </tr>
                    <tr>
                        <td align="center">5分</td>
                        <td align="center" colspan="2">
                            <label for="clean-2">
                                <input type="radio" name="clean" value="5" id="clean-2" class="identitfy">
                                <span>独立完成</span>
                            </label>
                        </td>
                    </tr>
                    <tr>
                        <td colspan="2" rowspan="3">4.用厕</td> 
                        <td align="center">0分</td>
                        <td colspan="2" align="center">
                            <label for="bath-1">
                                <input type="radio" name="bath" value="0" id="bath-1" class="identitfy">
                                <span>依赖他人</span>
                            </label>
                        </td>
                        <td rowspan="3" class="scord4" align="center"></td>
                    </tr>
                    <tr>
                        <td align="center">5分</td>
                        <td colspan="2" align="center">
                            <label for="bath-2">
                                <input type="radio" name="bath" value="5" id="bath-2" class="identitfy">
                                <span>需要帮助</span>
                            </label>
                        </td>
                    </tr>
                    <tr>
                        <td align="center">10分</td>
                        <td colspan="2" align="center">
                            <label for="bath-3">
                                <input type="radio" name="bath" value="10" id="bath-3" class="identitfy">
                                <span>独立完成</span>
                            </label>
                        </td>
                    </tr>
                    <tr>
                        <td colspan="2" rowspan="2">5.洗澡</td>
                        <td align="center">0分</td>
                        <td colspan="2" align="center">
                            <label for="wash-1">
                                <input type="radio" name="wash" value="0" id="wash-1" class="identitfy">
                                <span>需要帮助</span>
                            </label>
                        </td>
                        <td rowspan="2" align="center" class="scord5"></td>
                    </tr>
                    <tr>
                        <td align="center">5分</td>
                        <td colspan="2" align="center">
                            <label for="wash-2">
                                <input type="radio" name="wash" value="5" id="wash-2" class="identitfy">
                                <span>独立完成</span>
                            </label>
                        </td>
                    </tr>
                    <tr>
                        <td colspan="2" rowspan="4">6.平地行走（不能行走时的轮椅使用）</td>
                        <td rowspan="2" align="center">使用轮椅</td>
                        <td align="center">0分</td>
                        <td align="center">
                            <label for="walk-1">
                                <input type="radio" name="walk" value="0" id="walk-1" class="identitfy">
                                <span>需要帮助</span>
                            </label>
                        </td>
                        <td rowspan="2" align="center" class="scord6"></td>
                    </tr>
                    <tr>
                        <td align="center">0分</td>
                        <td align="center">
                            <label for="walk-2">
                                <input type="radio" name="walk" value="5" id="walk-2" class="identitfy">
                                <span>独立完成</span>
                            </label>
                        </td>
                    </tr>
                    <tr>
                        <td rowspan="2" align="center">平地行走</td>
                        <td align="center">5分</td>
                        <td align="center">
                            <label for="ground-1">
                                <input type="radio" name="ground" value="0" id="ground-1" class="identitfy">
                                <span>需要帮助</span>
                            </label>
                        </td>
                        <td rowspan="2" align="center" class="scord7"></td>
                    </tr>
                    <tr>
                        <td align="center">5分</td>
                        <td align="center">
                            <label for="ground-2">
                                <input type="radio" name="ground" value="5" id="ground-2" class="identitfy">
                                <span>独立完成</span>
                            </label>
                        </td>
                    </tr>
                    <tr>
                        <td colspan="2" rowspan="3">7.上下楼梯</td>
                        <td align="center">0分</td>
                        <td colspan="2" align="center">
                            <label for="up-1">
                                <input type="radio" name="up" value="0" id="up-1" class="identitfy">
                                <span>依赖他人</span>
                            </label>
                        </td>
                        <td rowspan="3" class="scord8" align="center"></td>
                    </tr>
                    <tr>
                        <td align="center">5分</td>
                        <td colspan="2" align="center">
                            <label for="up-2">
                                <input type="radio" name="up" value="5" id="up-2" class="identitfy">
                                <span>需要帮助</span>
                            </label>
                        </td>
                    </tr>
                    <tr>
                        <td align="center">10分</td>
                        <td colspan="2" align="center">
                            <label for="up-3">
                                <input type="radio" name="up" value="10" id="up-3" class="identitfy">
                                <span>独立完成</span>
                            </label>
                        </td>
                    </tr>
                    <tr>
                        <td colspan="2" rowspan="3">8.穿脱衣物</td>
                        <td align="center">0分</td>
                        <td colspan="2" align="center">
                            <label for="cloth-1">
                                <input type="radio" name="cloth" value="0" id="cloth-1" class="identitfy">
                                <span>依赖他人</span>
                            </label>
                        </td>
                        <td rowspan="3" align="center" class="scord9"></td>
                    </tr>
                    <tr>
                        
                        
                        <td align="center">5分</td>
                        <td colspan="2" align="center">
                            <label for="cloth-2">
                                <input type="radio" name="cloth" value="5" id="cloth-2" class="identitfy">
                                <span>需要帮助</span>
                            </label>
                        </td>
                        
                        
                    </tr>
                    <tr>
                        
                        
                        <td align="center">10分</td>
                        <td colspan="2" align="center">
                            <label for="cloth-3">
                                <input type="radio" name="cloth" value="10" id="cloth-3" class="identitfy">
                                <span>独立完成</span>
                            </label>
                        </td>
                        
                        
                    </tr>
                    <tr>
                        <td colspan="2" rowspan="3">9.控制大便</td>
                        
                        <td align="center">0分</td>
                        <td colspan="2" align="center">
                            <label for="big-1">
                                <input type="radio" name="big" value="0" id="big-1" class="identitfy">
                                <span>完全失控</span>
                            </label>
                        </td>
                        
                        <td rowspan="3" align="center" class="scord10">1</td>
                    </tr>
                    <tr>
                        
                        
                        <td align="center">5分</td>
                        <td colspan="2" align="center">
                            <label for="big-2">
                                <input type="radio" name="big" value="5" id="big-2" class="identitfy">
                                <span>偶尔失控</span>
                            </label>
                        </td>
                        
                        
                    </tr>
                    <tr>
                        
                        
                        <td align="center">10分</td>
                        <td colspan="2" align="center">
                            <label for="big-3">
                                <input type="radio" name="big" value="10" id="big-3" class="identitfy">
                                <span>完全控制</span>
                            </label>
                        </td>
                        
                        
                    </tr>
                    <tr>
                        <td colspan="2" rowspan="3">10.控制小便</td>
                        
                        <td align="center">0分</td>
                        <td colspan="2" align="center">
                            <label for="small-1">
                                <input type="radio" name="small" value="0" id="small-1" class="identitfy">
                                <span>完全失控</span>
                            </label>
                        </td>
                        
                        <td rowspan="3" align="center" class="scord11"></td>
                    </tr>
                    <tr>
                        
                        
                        <td align="center">5分</td>
                        <td colspan="2" align="center">
                            <label for="small-2">
                                <input type="radio" name="small" value="5" id="small-2" class="identitfy">
                                <span>偶尔失控或部分控制</span>
                            </label>
                        </td>
                    </tr>
                    <tr>
                        <td align="center">10分</td>
                        <td colspan="2" align="center">
                            <label for="small-3">
                                <input type="radio" name="small" value="10" id="small-3" class="identitfy">
                                <span>完全控制</span>
                            </label>
                        </td>
                        
                        
                    </tr>
                    <tr>
                        <td colspan="5" align="center">总分</td>
                        
                        
                        
                        
                        <td class="result" align="center"></td>
                    </tr>
                    <tr>
                        <td colspan="6" style="padding:0 20px;overflow: hidden;">
                            <div style="float:left;width:40%;">
                                <h5>家庭医生:</h5>
                                <input type="text" style="display: inline-block;width:35%;">
                            </div>
                            <div style="float:right;width:60%;text-align:right;line-height:50px;">
                                <input type="text" style="display: inline-block;width:10%;text-align:center;">年
                                <input type="text" style="display: inline-block;width:10%;text-align:center;">月
                                <input type="text" style="display: inline-block;width:10%;text-align:center;">日
                            </div>
                        </td>
                    </tr>
                </tbody>
            </table>
        </form>
    </div>
    <script>
        $(function () {
            // 为每一个textarea绑定事件使其高度自适应
            $.each($("textarea"), function (i, n) {
                autoTextarea($(n)[0]);
            });
        })
        /**
         * 文本框根据输入内容自适应高度
         * {HTMLElement}   输入框元素
         * {Number}        设置光标与输入框保持的距离(默认0)
         * {Number}        设置最大高度(可选)
         */
        var autoTextarea = function (elem, extra, maxHeight) {
            extra = extra || 0;
            var isFirefox = !!document.getBoxObjectFor || 'mozInnerScreenX' in window,
                isOpera = !!window.opera && !!window.opera.toString().indexOf('Opera'),
                addEvent = function (type, callback) {
                    elem.addEventListener ?
                        elem.addEventListener(type, callback, false) :
                        elem.attachEvent('on' + type, callback);
                },
                getStyle = elem.currentStyle ?
                function (name) {
                    var val = elem.currentStyle[name];
                    if (name === 'height' && val.search(/px/i) !== 1) {
                        var rect = elem.getBoundingClientRect();
                        return rect.bottom - rect.top -
                            parseFloat(getStyle('paddingTop')) -
                            parseFloat(getStyle('paddingBottom')) + 'px';
                    };
                    return val;
                } : function (name) {
                    return getComputedStyle(elem, null)[name];
                },
                minHeight = parseFloat(getStyle('height'));
            elem.style.resize = 'none'; //如果不希望使用者可以自由的伸展textarea的高宽可以设置其它值

            var change = function () {
                var scrollTop, height,
                    padding = 0,
                    style = elem.style;          
                if (elem._length === elem.value.length) return;
                elem._length = elem.value.length;

                if (!isFirefox && !isOpera) {
                    padding = parseInt(getStyle('paddingTop')) + parseInt(getStyle('paddingBottom'));
                };
                scrollTop = document.body.scrollTop || document.documentElement.scrollTop;

                elem.style.height = minHeight + 'px';
                
                if (elem.scrollHeight > minHeight) {
                    if (maxHeight && elem.scrollHeight > maxHeight) {
                        height = maxHeight - padding;
                        style.overflowY = 'auto';
                    } else {
                        height = elem.scrollHeight - padding;
                        style.overflowY = 'hidden';
                    };
                    style.height = height + extra + 'px';
                    scrollTop += parseInt(style.height) - elem.currHeight;
                    document.body.scrollTop = scrollTop;
                    document.documentElement.scrollTop = scrollTop;
                    elem.currHeight = parseInt(style.height);
                };
            };
            addEvent('propertychange', change);
            addEvent('input', change);
            addEvent('focus', change);
            change();


            // var eat = document.getElementsByName('eat');

        };
        var eat = $('.healthCareServe')
        eat.click((e) => {
            let arr = []
            let tal = $("input[name='eat']:checked").val()*1;
            arr.push(tal)
            let turn = $("input[name='turn']:checked").val()*1;
            arr.push(turn)
            let clean = $("input[name='clean']:checked").val()*1;
            arr.push(clean)
            let bath = $("input[name='bath']:checked").val()*1;
            arr.push(bath)
            let wash = $("input[name='wash']:checked").val()*1;
            arr.push(wash)
            let walk = $("input[name='walk']:checked").val()*1;
            arr.push(walk)
            let ground = $("input[name='ground']:checked").val()*1;
            arr.push(ground)
            let up = $("input[name='up']:checked").val()*1;
            arr.push(up)
            let cloth = $("input[name='cloth']:checked").val()*1;
            arr.push(cloth)
            let big = $("input[name='big']:checked").val()*1;
            arr.push(big)
            let small = $("input[name='small']:checked").val()*1;
            arr.push(small)
            $('.scord').html(tal)
            $('.scord2').html(turn)
            $('.scord3').html(clean)
            $('.scord4').html(bath)
            $('.scord5').html(wash)
            $('.scord6').html(walk)
            $('.scord7').html(ground)
            $('.scord8').html(up)
            $('.scord9').html(cloth)
            $('.scord10').html(big)
            $('.scord11').html(small)
            let all = 0;
            for(var i = 0;i<arr.length;i++){
                all+=arr[i]
            }
            $('.result').html(all)
        })
    </script>
</body>

</html>